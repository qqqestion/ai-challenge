# üîí –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ SSL Certificate Verification

## –ü—Ä–æ–±–ª–µ–º–∞

–í—ã –ø–æ–ª—É—á–∏–ª–∏ –æ—à–∏–±–∫—É:
```
httpx.ConnectError: [SSL: CERTIFICATE_VERIFY_FAILED] 
certificate verify failed: self-signed certificate in certificate chain
```

–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–æ–≥–¥–∞:
- üè¢ –í—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –∑–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º –ø—Ä–æ–∫—Å–∏
- üõ°Ô∏è –í —Å–µ—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∞–π—Ä–≤–æ–ª —Å SSL inspection
- üîê –ê–Ω—Ç–∏–≤–∏—Ä—É—Å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç HTTPS —Ç—Ä–∞—Ñ–∏–∫

---

## ‚ö° –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª .env

```bash
nano .env
```

### –®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä

```bash
# –í –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ:
SSL_VERIFY=false
```

### –®–∞–≥ 3: –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ

```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å: Ctrl+O, Enter
# –í—ã–π—Ç–∏: Ctrl+X

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
./start.sh
```

### ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
‚ö†Ô∏è  SSL VERIFICATION DISABLED
SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –ù–ï –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è!
–≠—Ç–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞!
```

–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –ë–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ—Ç–∫–ª—é—á–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π SSL.

---

## üîê –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:

### –î–ª—è macOS:

```bash
# 1. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
# Keychain Access -> –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã -> –≠–∫—Å–ø–æ—Ä—Ç -> corporate.pem

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ certifi
source venv/bin/activate
pip install --upgrade certifi

# 3. –î–æ–±–∞–≤—å—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
cat /path/to/corporate.pem >> $(python -m certifi)

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ —Å SSL_VERIFY=true
```

### –î–ª—è Ubuntu/Debian:

```bash
# 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
sudo cp corporate.crt /usr/local/share/ca-certificates/

# 2. –û–±–Ω–æ–≤–∏—Ç–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
sudo update-ca-certificates

# 3. –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ certifi
source venv/bin/activate
pip install --force-reinstall certifi

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ —Å SSL_VERIFY=true
```

---

## üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–æ–∫—Å–∏, –¥–æ–±–∞–≤—å—Ç–µ –≤ `.env`:

```bash
HTTP_PROXY=http://proxy.company.com:8080
HTTPS_PROXY=http://proxy.company.com:8080
NO_PROXY=localhost,127.0.0.1

# –ò –æ—Ç–∫–ª—é—á–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É SSL
SSL_VERIFY=false
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π

| –†–µ—à–µ–Ω–∏–µ | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –í—Ä–µ–º—è |
|---------|--------------|-----------|-------|
| `SSL_VERIFY=false` | ‚ùå –ù–∏–∑–∫–∞—è | ‚úÖ –ü—Ä–æ—Å—Ç–∞—è | ‚ö° 1 –º–∏–Ω—É—Ç–∞ |
| –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ | ‚úÖ –í—ã—Å–æ–∫–∞—è | ‚ö†Ô∏è –°—Ä–µ–¥–Ω—è—è | ‚è±Ô∏è 10-15 –º–∏–Ω—É—Ç |
| –û–±—Ö–æ–¥ –ø—Ä–æ–∫—Å–∏ | ‚ö†Ô∏è –°—Ä–µ–¥–Ω—è—è | ‚úÖ –ü—Ä–æ—Å—Ç–∞—è | ‚ö° 2 –º–∏–Ω—É—Ç—ã |

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
# –í .env
SSL_VERIFY=false
LOG_LEVEL=DEBUG
```

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
```bash
# –í .env
SSL_VERIFY=true
LOG_LEVEL=INFO

# + —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
```

---

## üÜò –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–ª–æ

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
   ```bash
   curl -v https://llm.api.cloud.yandex.net
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–∫—Å–∏:**
   ```bash
   echo $HTTP_PROXY
   echo $HTTPS_PROXY
   ```

3. **–í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç–µ –ø—Ä–æ–∫—Å–∏:**
   ```bash
   unset HTTP_PROXY
   unset HTTPS_PROXY
   ./start.sh
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:**
   ```bash
   python -m certifi
   ls -la $(python -m certifi)
   ```

---

## üìù –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä .env —Å SSL

```bash
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
TELEGRAM_BOT_TOKEN=123456789:ABCdef...
YANDEX_API_KEY=AQVN...
YANDEX_FOLDER_ID=b1...

# SSL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç)

# –í–∞—Ä–∏–∞–Ω—Ç 1: –° –ø—Ä–æ–≤–µ—Ä–∫–æ–π SSL (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
SSL_VERIFY=true

# –í–∞—Ä–∏–∞–Ω—Ç 2: –ë–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ SSL (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
SSL_VERIFY=false

# –í–∞—Ä–∏–∞–Ω—Ç 3: –° –ø—Ä–æ–∫—Å–∏ (–¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π —Å–µ—Ç–∏)
SSL_VERIFY=false
HTTP_PROXY=http://proxy.company.com:8080
HTTPS_PROXY=http://proxy.company.com:8080
```

---

*urp* –¢–µ–ø–µ—Ä—å –±–æ—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å! Wubba Lubba Dub Dub! üß™

